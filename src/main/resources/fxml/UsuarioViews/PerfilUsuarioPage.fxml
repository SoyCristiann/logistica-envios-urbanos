<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.text.Font?>


<AnchorPane prefHeight="900" prefWidth="1200"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="edu.uniquindio.pgII.logistica.controlador.UsuarioController.PerfilUsuarioController">

    <children>

        <!-- ====== TÍTULO ====== -->
        <Label layoutX="430" layoutY="30" text="GESTIÓN DE PERFIL">
            <font><Font size="36" /></font>
        </Label>


        <!-- ========================================================= -->
        <!--   SCROLL GENERAL PARA EVITAR QUE TODO SE APACHE O CORTE   -->
        <!-- ========================================================= -->
        <ScrollPane layoutX="200" layoutY="100" prefWidth="800" prefHeight="750" fitToWidth="true">
            <content>

                <!-- CONTENEDOR PRINCIPAL -->
                <VBox spacing="30" prefWidth="780" style="-fx-padding: 20;">


                    <!-- ================================================= -->
                    <!-- =============== PANEL 1: DATOS DE PERFIL ========= -->
                    <!-- ================================================= -->

                    <VBox spacing="10" style="-fx-background-color: #f0f0f0; -fx-padding: 15; -fx-background-radius: 10;">
                        <Button text="Editar Perfil" style="-fx-font-size: 18; -fx-font-weight: bold;"
                                onMouseClicked="#togglePerfilSection"/>

                        <!-- Contenido Perfil -->
                        <VBox fx:id="seccionPerfil" spacing="15" visible="true">

                            <HBox spacing="10">
                                <Label prefWidth="150" text="Nombre completo:" />
                                <TextField fx:id="txtNombre" prefWidth="300" />
                            </HBox>

                            <HBox spacing="10">
                                <Label prefWidth="150" text="Correo electrónico:" />
                                <TextField fx:id="txtCorreo" prefWidth="300" />
                            </HBox>

                            <HBox spacing="10">
                                <Label prefWidth="150" text="Teléfono:" />
                                <TextField fx:id="txtTelefono" prefWidth="300" />
                            </HBox>

                            <HBox spacing="20" alignment="CENTER">
                                <Button fx:id="btnGuardar" onAction="#guardarPerfil"
                                        prefHeight="40" prefWidth="200" text="Guardar Cambios" />

                                <Button fx:id="btnVolver" onAction="#volverMenu"
                                        prefHeight="40" prefWidth="200" text="Volver al Menú" />
                            </HBox>

                        </VBox>
                    </VBox>



                    <!-- ======================================================= -->
                    <!-- =============== PANEL 2: AGREGAR DIRECCIÓN ============ -->
                    <!-- ======================================================= -->

                    <VBox spacing="10" style="-fx-background-color: #f0f0f0; -fx-padding: 15; -fx-background-radius: 10;">
                        <Button text="Agregar Dirección"
                                style="-fx-font-size: 18; -fx-font-weight: bold;"
                                onMouseClicked="#toggleAgregarDireccionSection"/>

                        <!-- Contenido Agregar Dirección -->
                        <VBox fx:id="seccionAgregarDireccion" spacing="20" visible="false">

                            <GridPane hgap="10" vgap="10">

                                <columnConstraints>
                                    <ColumnConstraints halignment="RIGHT" prefWidth="150"/>
                                    <ColumnConstraints prefWidth="300"/>
                                </columnConstraints>

                                <children>

                                    <Label text="Calle:" GridPane.rowIndex="0"/>
                                    <TextField fx:id="txtCalle" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                    <Label text="Número:" GridPane.rowIndex="1"/>
                                    <TextField fx:id="txtNumero" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                    <Label text="Barrio:" GridPane.rowIndex="2"/>
                                    <TextField fx:id="txtBarrio" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                                    <Label text="Ciudad:" GridPane.rowIndex="3"/>
                                    <TextField fx:id="txtCiudad" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                                    <Label text="Código Postal:" GridPane.rowIndex="4"/>
                                    <TextField fx:id="txtCodigoPostal" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                                    <Label text="Descripción:" GridPane.rowIndex="5"/>
                                    <TextField fx:id="txtDescripcionDir" GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                                    <Label text="Alias:" GridPane.rowIndex="6"/>
                                    <TextField fx:id="txtAlias" GridPane.columnIndex="1" GridPane.rowIndex="6"/>

                                </children>

                            </GridPane>

                            <Button text="Agregar Dirección"
                                    onAction="#agregarDireccion"
                                    prefWidth="200"/>
                        </VBox>
                    </VBox>



                    <!-- ======================================================= -->
                    <!-- =============== PANEL 3: TABLA DIRECCIONES ============ -->
                    <!-- ======================================================= -->

                    <VBox spacing="10" style="-fx-background-color: #f0f0f0; -fx-padding: 15; -fx-background-radius: 10;">
                        <Button text="Ver Direcciones Registradas"
                                style="-fx-font-size: 18; -fx-font-weight: bold;"
                                onMouseClicked="#toggleTablaSection"/>

                        <!-- Tabla -->
                        <VBox fx:id="seccionTabla" spacing="15" visible="false">

                            <TableView fx:id="tablaDirecciones" prefHeight="300">
                                <columns>
                                    <TableColumn fx:id="colAlias" text="Alias" prefWidth="150"/>
                                    <TableColumn fx:id="colCiudad" text="Ciudad" prefWidth="150"/>
                                    <TableColumn fx:id="colBarrio" text="Barrio" prefWidth="150"/>
                                    <TableColumn fx:id="colDescripcion" text="Descripción" prefWidth="250"/>
                                </columns>
                            </TableView>

                            <Button text="Eliminar Dirección Seleccionada"
                                    onAction="#eliminarDireccionSeleccionada"
                                    prefWidth="250"
                                    style="-fx-background-color: #d9534f; -fx-text-fill: white;"/>

                        </VBox>
                    </VBox>

                </VBox>

            </content>
        </ScrollPane>

    </children>

</AnchorPane>
